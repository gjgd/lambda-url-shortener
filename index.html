<html>
  <head>
    <meta charset="UTF-8">
  </head>

  <body>
    Input Url
    <input type="text" id="url" name="url" placeholder="http://example.com/a-very-long-url">
    <button onclick="shortenUrl()">Shorten</button>
    <div id="result"></div>
  </body>

  <script type="text/javascript">
    function shortenUrl() {
      const el = document.getElementById('url');
      fetch('/dev', {
        method: 'POST',
        headers: {
          "Content-type": "application/json; charset=UTF-8"
        },
        body: JSON.stringify({ url: el.value }),
      })
      .then(res => res.json())
      .then((data) => {
        console.log(data);
        const successEl = document.getElementById('result');
        successEl.innerHTML = `Your short URL is <a href="${data.shortUrl}" target="_blank">${data.shortUrl}</a>`;
      });
    }
  </script>
</html>
